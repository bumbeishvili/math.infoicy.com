<!DOCTYPE html>
<html lang="ka">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Georgian Math Worksheet</title>
    <style>
        @page {
            size: A4;
            margin: 1.5cm;
        }
        
        body {
            font-family: 'Sylfaen', 'DejaVu Sans', sans-serif;
            max-width: 21cm;
            margin: 0 auto;
            padding: 15px;
            background: white;
        }
        
        h1 {
            text-align: center;
            color: #2c3e50;
            margin-bottom: 15px;
            font-size: 22px;
        }
        
        .controls {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 15px;
            border: 2px solid #dee2e6;
        }
        
        .control-group {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 10px;
        }
        
        .control-group label {
            font-weight: bold;
            min-width: 150px;
        }
        
        .control-group input[type="range"] {
            flex: 1;
            max-width: 300px;
        }
        
        .control-group .value-display {
            min-width: 50px;
            font-weight: bold;
            color: #e74c3c;
        }
        
        button {
            background: #3498db;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
        }
        
        button:hover {
            background: #2980b9;
        }
        
        .problems {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-top: 15px;
        }
        
        .problem {
            border: 1px solid #3498db;
            border-radius: 5px;
            padding: 8px;
            background: #ecf0f1;
            min-height: 50px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        
        .problem-text {
            font-size: 16px;
            text-align: center;
            margin-bottom: 8px;
            color: #2c3e50;
            line-height: 1.3;
        }
        
        .answer-box {
            border-top: 1px solid #34495e;
            margin-top: 8px;
            padding-top: 8px;
            min-height: 25px;
        }
        
        @media print {
            body {
                padding: 0;
            }
            
            .controls {
                display: none;
            }
        }
    </style>
</head>
<body>
    <div class="controls">
        <div class="control-group">
            <label>მაქსიმალური რიცხვი:</label>
            <input type="range" id="maxRange" min="10" max="100" value="20" step="5">
            <span class="value-display" id="maxValue">20</span>
        </div>
    </div>
    
    <div class="problems" id="problemsContainer"></div>

    <script>
        const georgianNumbers = {
            0: 'ნული', 1: 'ერთი', 2: 'ორი', 3: 'სამი', 4: 'ოთხი', 5: 'ხუთი',
            6: 'ექვსი', 7: 'შვიდი', 8: 'რვა', 9: 'ცხრა', 10: 'ათი',
            11: 'თერთმეტი', 12: 'თორმეტი', 13: 'ცამეტი', 14: 'თოთხმეტი', 15: 'თხუთმეტი',
            16: 'თექვსმეტი', 17: 'ჩვიდმეტი', 18: 'თვრამეტი', 19: 'ცხრამეტი', 20: 'ოცი',
            21: 'ოცდაერთი', 22: 'ოცდაორი', 23: 'ოცდასამი', 24: 'ოცდაოთხი', 25: 'ოცდახუთი',
            26: 'ოცდაექვსი', 27: 'ოცდაშვიდი', 28: 'ოცდარვა', 29: 'ოცდაცხრა', 30: 'ოცდაათი',
            31: 'ოცდათერთმეტი', 32: 'ოცდათორმეტი', 33: 'ოცდაცამეტი', 34: 'ოცდათოთხმეტი', 35: 'ოცდათხუთმეტი',
            36: 'ოცდათექვსმეტი', 37: 'ოცდაჩვიდმეტი', 38: 'ოცდათვრამეტი', 39: 'ოცდაცხრამეტი', 40: 'ორმოცი',
            41: 'ორმოცდაერთი', 42: 'ორმოცდაორი', 43: 'ორმოცდასამი', 44: 'ორმოცდაოთხი', 45: 'ორმოცდახუთი',
            46: 'ორმოცდაექვსი', 47: 'ორმოცდაშვიდი', 48: 'ორმოცდარვა', 49: 'ორმოცდაცხრა', 50: 'ორმოცდაათი',
            51: 'ორმოცდათერთმეტი', 52: 'ორმოცდათორმეტი', 53: 'ორმოცდაცამეტი', 54: 'ორმოცდათოთხმეტი', 55: 'ორმოცდათხუთმეტი',
            56: 'ორმოცდათექვსმეტი', 57: 'ორმოცდაჩვიდმეტი', 58: 'ორმოცდათვრამეტი', 59: 'ორმოცდაცხრამეტი', 60: 'სამოცი',
            61: 'სამოცდაერთი', 62: 'სამოცდაორი', 63: 'სამოცდასამი', 64: 'სამოცდაოთხი', 65: 'სამოცდახუთი',
            66: 'სამოცდაექვსი', 67: 'სამოცდაშვიდი', 68: 'სამოცდარვა', 69: 'სამოცდაცხრა', 70: 'სამოცდაათი',
            71: 'სამოცდათერთმეტი', 72: 'სამოცდათორმეტი', 73: 'სამოცდაცამეტი', 74: 'სამოცდათოთხმეტი', 75: 'სამოცდათხუთმეტი',
            76: 'სამოცდათექვსმეტი', 77: 'სამოცდაჩვიდმეტი', 78: 'სამოცდათვრამეტი', 79: 'სამოცდაცხრამეტი', 80: 'ოთხმოცი',
            81: 'ოთხმოცდაერთი', 82: 'ოთხმოცდაორი', 83: 'ოთხმოცდასამი', 84: 'ოთხმოცდაოთხი', 85: 'ოთხმოცდახუთი',
            86: 'ოთხმოცდაექვსი', 87: 'ოთხმოცდაშვიდი', 88: 'ოთხმოცდარვა', 89: 'ოთხმოცდაცხრა', 90: 'ოთხმოცდაათი',
            91: 'ოთხმოცდათერთმეტი', 92: 'ოთხმოცდათორმეტი', 93: 'ოთხმოცდაცამეტი', 94: 'ოთხმოცდათოთხმეტი', 95: 'ოთხმოცდათხუთმეტი',
            96: 'ოთხმოცდათექვსმეტი', 97: 'ოთხმოცდაჩვიდმეტი', 98: 'ოთხმოცდათვრამეტი', 99: 'ოთხმოცდაცხრამეტი', 100: 'ასი'
        };

        const maxRangeInput = document.getElementById('maxRange');
        const maxValueDisplay = document.getElementById('maxValue');

        maxRangeInput.addEventListener('input', function() {
            maxValueDisplay.textContent = this.value;
            generateProblems();
        });

        function generateProblems() {
            const maxNum = parseInt(maxRangeInput.value);
            const container = document.getElementById('problemsContainer');
            container.innerHTML = '';
            
            const usedProblems = new Set();

            for (let i = 0; i < 24; i++) {
                let num1, num2, operation, problem, problemKey;
                let attempts = 0;
                
                // Try to generate a unique problem
                do {
                    operation = Math.random() > 0.5 ? '+' : '-';
                    
                    if (operation === '+') {
                        // For addition: ensure result doesn't exceed maxNum
                        num1 = Math.floor(Math.random() * maxNum) + 1;
                        // num2 can be at most (maxNum - num1) to keep sum <= maxNum
                        const maxNum2 = maxNum - num1;
                        num2 = Math.floor(Math.random() * maxNum2) + 1;
                    } else {
                        // For subtraction: ensure result >= 0
                        num1 = Math.floor(Math.random() * maxNum) + 1;
                        // num2 can be at most num1 to keep result >= 0
                        num2 = Math.floor(Math.random() * num1) + 1;
                    }
                    
                    problemKey = `${num1}${operation}${num2}`;
                    attempts++;
                    
                    // If we've tried too many times, break to avoid infinite loop
                    if (attempts > 100) break;
                } while (usedProblems.has(problemKey));
                
                usedProblems.add(problemKey);
                
                if (operation === '+') {
                    problem = `${georgianNumbers[num1]} + ${georgianNumbers[num2]} = ?`;
                } else {
                    problem = `${georgianNumbers[num1]} - ${georgianNumbers[num2]} = ?`;
                }

                const problemDiv = document.createElement('div');
                problemDiv.className = 'problem';
                problemDiv.innerHTML = `
                    <div class="problem-text">${problem}</div>
                    <div class="answer-box"></div>
                `;
                container.appendChild(problemDiv);
            }
        }

        // Generate initial problems
        generateProblems();
    </script>
</body>
</html>
